// --- Data ---
const categories = {
  "football": {
    name: "█М╪з╪▒█М╪▓╪з┘Ж█М ╪к█Ж┘╛█М ┘╛█О",
    items: [
      { name: "┘Д█М█Ж┘Ж█О┘Д ┘Е█О╪│█М", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" }, { name: "┌й╪▒█М╪│╪к█М╪з┘Ж█Ж ┌Х█Ж┘Ж╪з┌╡╪п█Ж", hint: "┘╛┘И╪▒╪к┘И┌п╪з┘Д" }, { name: "┌й█М┘Д█М╪з┘Ж ┘Е╪и╪з┘╛█О", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "╪ж█О╪▒┘Д█М┘Ж┌п ┘З╪з┘Д╪з┘Ж╪п", hint: "┘Ж█Х╪▒┘И█М╪м" }, { name: "┌й█Х╪▒█М┘Е ╪и█Х┘Ж╪▓█М┘Е█Х", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" },
      { name: "┌Х█Ж╪и█Х╪▒╪к ┘Д█М┌д╪з┘Ж╪п█Ж┌д╪│┌й█М", hint: "┘╛█Ж┌╡█Х┘Ж╪п╪з" }, { name: "┘Д█Ж┌й╪з ┘Е█Ж╪п╪▒█М┌Ж", hint: "┌й╪▒┘И╪з╪к█М╪з" }, { name: "┌й█М┌д┘Ж ╪п█М ╪и╪▒█Ж█М┘Ж", hint: "╪и█Х┘Д╪м█М┌й╪з" }, { name: "┘Е╪н█Х┘Е█Х╪п ╪│█Х┘Д╪з╪н", hint: "┘Е█М╪│╪▒" }, { name: "┘Ж█Х█М┘Е╪з╪▒ ╪м┘И┘Ж█М█Ж╪▒", hint: "╪и█Х┌Х╪з╪▓█М┘Д" },
      { name: "┌д█М┘Ж█М╪│█М█Ж╪│ ╪м┘И┘Ж█М█Ж╪▒", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "█М█Ж╪▒┌п┘Ж ┌й┌╡█Ж┘╛ (Rah├кner)", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "┘╛█М┘╛ ┌п┘И╪з╪▒╪п█М█Ж┌╡╪з (Rah├кner)", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪▓█М┘Ж█Х╪п█М┘Ж ╪▓█О╪п╪з┘Ж", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┌Ж╪з┌д█М ┘З█О╪▒┘Ж╪з┘Ж╪п█О╪▓", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" },
      { name: "╪ж█Х┘Ж╪п╪▒█О╪│ ╪ж█М┘Ж█О╪│╪к╪з", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪│█О╪▒╪м█М█Ж ┌Х╪з┘Е█Ж╪│", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "┌д█О╪▒╪м┌╡ ┌д╪з┘Ж ╪п╪з█М┌й", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "╪к█Ж┘Ж█М ┌й╪▒┘И╪│", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "╪к█Ж┘Е╪з╪│ ┘Е█Ж┘Д█Х╪▒", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" },
      { name: "┘Е╪з┘Ж█М█Ж┘Д ┘Ж█Ж█М█Х╪▒", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "╪к╪з█М╪и█Ж ┌й█Ж╪▒╪к┘И╪з", hint: "╪и█Х┘Д╪м█М┌й╪з" }, { name: "┘Е╪з╪▒┌й ╪ж█Х┘Ж╪п╪▒█М█Х ╪к█О╪▒ ╪┤╪к█О┌п┘Ж", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "╪ж█Х┘Д█М╪│█Ж┘Ж ╪и█О┌й█Х╪▒", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "╪ж█О╪п█О╪▒╪│█Ж┘Ж ┘Е█Ж┌Х╪з█М╪│", hint: "╪и█Х┌Х╪з╪▓█М┘Д" },
      { name: "█М╪з┘Ж ╪ж█Ж╪и┘Д╪з┌й", hint: "╪│┘Д█Ж┌д█М┘Ж█М╪з" }, { name: "╪ж█Х┘Ж╪к█Ж┘Ж█М█Ж ┌Х┘И╪п█М┌п█О╪▒", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "┌Х┘И╪и┘Ж ╪п█М╪з╪▓", hint: "┘╛┘И╪▒╪к┘И┌п╪з┘Д" }, { name: "┘Е╪з┌Х┌й█М┘Ж█М█Ж╪│", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "╪ж█Х╪┤╪▒█Х┘Б ╪н█Х┌й█М┘Е█М", hint: "┘Е█Х╪║╪▒█М╪и" },
      { name: "╪к╪▒█О┘Ж╪к ╪ж█Х┘Д█О┌й╪│╪з┘Ж╪п█Х╪▒ ╪ж╪з╪▒┘Ж█Ж┌╡╪п", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪ж█Х┘Д┘Б█Ж┘Ж╪│█Ж ╪п█Х█М┌д╪▓", hint: "┌й█Х┘Ж█Х╪п╪з" }, { name: "╪м█Ж╪┤┘И╪з ┌й█М┘Е█М┌Ж", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "┌Х█Ж╪п╪▒█М ┘З█О╪▒┘Ж╪з┘Ж╪п█О╪▓", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪ж█М┘Д┌й╪з█М ┌п█Ж┘Ж╪п█Ж┌п╪з┘Ж", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" },
      { name: "╪и█О╪▒┘Ж╪з╪▒╪п█Ж ╪│█М┘Д┌д╪з", hint: "┘╛┘И╪▒╪к┘И┌п╪з┘Д" }, { name: "╪м┘И┘И╪п ╪и█О┘Д█М┘Ж┌п┘З╪з┘Е", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪м█Х┘Е╪з┘Д ┘Е┘И╪│█М╪з┘Д╪з", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "╪и█Ж┌й╪з█М█Ж ╪│╪з┌й╪з", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "┘Е╪з╪▒┌й█Ж╪│ ┌Х╪з╪┤┘Б█Ж╪▒╪п", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" },
      { name: "┘З╪з╪▒█М ┌й█Х█М┘Ж", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "┘З█М█Ж┘Ж┌п ┘Е█М┘Ж ╪│█Ж┘Ж", hint: "┌й█Ж╪▒█М╪з█М ╪и╪з╪┤┘И┘И╪▒" }, { name: "┌Х╪з┘Б╪з█М┘Д ┘Д█М╪з┘И", hint: "┘╛┘И╪▒╪к┘И┌п╪з┘Д" }, { name: "┌д█М┌й╪к█Ж╪▒ ╪ж█Ж╪│█М┘Е█М┘Ж", hint: "┘Ж█Х█М╪м█М╪▒█М╪з" }, { name: "╪о┌д█М┌Ж╪з ┌й┌д╪з╪▒╪з╪к╪│╪о█О┘Д█М╪з", hint: "╪м█Ж╪▒╪м█М╪з" },
      { name: "┘╛╪з┘И┌╡█Ж ╪п█М╪и╪з┘Д╪з", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" }, { name: "┘Д╪з┘И╪к╪з╪▒█Ж ┘Е╪з╪▒╪к█М┘Ж█О╪▓", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" }, { name: "╪ж█Х┘Ж╪к┘И╪з┘Ж ┌п╪▒█М╪▓┘Е╪з┘Ж", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "╪╣┘И╪│┘Е╪з┘Ж ╪п█М┘Е╪и█О┘Д█М", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┘Б╪▒█О┘Ж┌й█М ╪п█М █М█Ж┘Ж┌п", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" },
      { name: "┘╛█М╪п╪▒█М ┌п█Ж┘Ж╪▓╪з┘Д█О╪▓", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "┌п╪з┌д█М ┘╛╪з█О╪▓", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪ж╪з┘Ж╪│┘И ┘Б╪з╪к█М", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪ж█Х┘Д█М╪о╪з┘Ж╪п╪▒█Ж ╪и╪з┌╡╪п█О", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "┌Х█Ж┘Ж╪з┌╡╪п ╪ж╪з╪▒╪з┘И╪о█Ж", hint: "╪ж█Ж╪▒█Ж┌п┘И╪з█М" },
      { name: "╪м┘И┌╡╪│ ┌й┘И┘Ж╪п█О", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "╪ж█М╪п█О╪▒ ┘Е█М┘Д█М╪к╪з┘И", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "╪п█Х█М┌д█М╪п ╪ж╪з┘Д╪з╪и╪з", hint: "┘Ж█Х┘Е╪│╪з" }, { name: "┘Б█О╪п█О╪▒█М┌й█Ж ┌д╪з┌╡┌д█О╪▒╪п█М", hint: "╪ж█Ж╪▒█Ж┌п┘И╪з█М" }, { name: "╪ж█Ж┌Х█О┘Д█М█Х┘Ж ┌Ж┘И╪з┘Е█О┘Ж█М", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" },
      { name: "╪ж█О╪п┘И╪з╪▒╪п█Ж ┌й╪з┘Е╪з┌д█М┘Ж┌п╪з", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┌Х█Ж╪п╪▒█М┌п█Ж ┌п█Ж█О╪│", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┌Х█М╪з╪п ┘Е█Х╪н╪▒█Х╪▓", hint: "╪м█Х╪▓╪з╪ж█М╪▒" }, { name: "┌й╪з┌Х┘Д█Ж╪│ ┌й╪з╪│█О┘Е█М┌Х█Ж", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┌Х╪з┘Б╪з█М┘Д ┌д╪з╪▒╪з┘Ж", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" },
      { name: "╪и╪▒┘И┘Ж█Ж ┘Б█О╪▒┘Ж╪з┘Ж╪п█О╪▓", hint: "┘╛┘И╪▒╪к┘И┌п╪з┘Д" }, { name: "┘Д█М╪▒█Ж█М ╪│╪з┘Ж█О", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "┌й█М┘Ж┌п╪│┘Д█М ┌й█Ж┘Е╪з┘Ж", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "╪│█О╪▒╪м ┌п┘Ж╪з╪и╪▒█М", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" }, { name: "┘Д█М█Ж┘Ж ┌п█Ж╪▒█О╪к╪▓┌й╪з", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" },
      { name: "┘Е╪з╪к█О╪│ ╪п█М ┘Д█М╪о╪к", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "╪п╪з█М█Ж╪к ╪ж┘И┘╛╪з┘Е█О┌й╪з┘Ж█Ж", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "╪к█М█Ж ┘З█О╪▒┘Ж╪з┘Ж╪п█О╪▓", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┘Е╪з█М┌й ┘Е╪з█М┘Ж╪з┘Ж", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "╪ж█Ж┘Д█М┌д█М█Х ┌Ш█М╪▒█Ж", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" },
      { name: "╪▓┌╡╪з╪к╪з┘Ж ╪ж█М╪и╪▒╪з┘З█М┘Е█Ж┌д█М┌Ж", hint: "╪│┘И█М╪п" }, { name: "┘Д┘И█М╪│ ╪│┘И╪з╪▒█О╪▓", hint: "╪ж█Ж╪▒█Ж┌п┘И╪з█М" }, { name: "╪│█О╪▒╪м█М█Ж ╪и█Ж╪│┌й█О╪к╪│", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪м█Ж╪▒╪п█М ╪ж█Х┘Д╪и╪з", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪м█О╪▒╪з╪▒╪п ┘╛█М┌й█О", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" },
      { name: "┌й╪з╪▒┘Д█Х╪│ ┘╛┘И█М█Ж┌╡", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "┌Х█Ж┘Ж╪з┌╡╪п█М┘Ж█М█Ж ┌п╪з┘И╪к╪┤█Ж", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┌Х█М┌д╪з┌╡╪п█Ж", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┌Х█Ж┘Ж╪з┌╡╪п█Ж ┘Ж╪з╪▓╪з╪▒█М█Ж", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┌Х█Ж╪и█О╪▒╪к█Ж ┌й╪з╪▒┘Д█Ж╪│", hint: "╪и█Х┌Х╪з╪▓█М┘Д" },
      { name: "┌й╪з┘Б┘И", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┘╛╪з┘И┌╡█Ж ┘Е╪з┌╡╪п█М┘Ж█М", hint: "╪ж█М╪к╪з┌╡█М╪з" }, { name: "╪ж█Х┘Д█М╪│╪з┘Ж╪п╪▒█Ж ┘Ж█О╪│╪к╪з", hint: "╪ж█М╪к╪з┌╡█М╪з" }, { name: "┘Б╪з╪и█М█Ж ┌й╪з┘Ж╪з┌д╪з╪▒█Ж", hint: "╪ж█М╪к╪з┌╡█М╪з" }, { name: "╪м█М╪з┘Ж┘Д┘И█М╪м█М ╪и┘И┘Б█Ж┘Ж", hint: "╪ж█М╪к╪з┌╡█М╪з" },
      { name: "╪ж█М┌й█Х╪▒ ┌й╪з╪│█М╪з╪│", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪│█О╪▒╪м█М█Ж ╪ж█Х┌п┘И█О╪▒█Ж", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" }, { name: "╪п╪з┌д█М╪п ╪│█М┘Д┌д╪з", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "█М╪з█М╪з ╪к█Ж╪▒█О", hint: "┌й█Ж╪к╪п█М┌д┘И╪з╪▒" }, { name: "╪п█М╪п█О█Х ╪п█О╪▒█Ж┌п╪и╪з", hint: "┌й█Ж╪к╪п█М┌д┘И╪з╪▒" },
      { name: "┘Б╪▒╪з┘Ж┌й ┘Д╪з┘Е┘╛╪з╪▒╪п", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪│╪к█М┌д┘Ж ╪м█О╪▒╪з╪▒╪п", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "┘И╪з█М┘Ж ┌Х┘И┘И┘Ж█М", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "┘╛╪з┘И┌╡ ╪│┌й█Ж┌╡╪▓", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "┌Х╪з█М╪з┘Ж ┌п█М┌п╪▓", hint: "┘И█О┌╡╪▓" },
      { name: "╪п█Х█М┌д█М╪п ╪и█О┌й╪з┘Е", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪к█М█О╪▒█М ┘З█О┘Ж╪▒█М", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┘╛╪з╪к╪▒█М┌й ┌д█М█О╪▒╪з", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "╪п█О┘Ж█М╪│ ╪и█О╪▒┌й╪з┘Е┘╛", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "┌Х┘И┘И╪п ┌д╪з┘Ж ┘Ж ┘Ж█М╪│╪к█Х┘Д┌Х█Ж█М", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" },
      { name: "┌Х█Ж╪и┘Ж ┌д╪з┘Ж ┘╛█О╪▒╪│█М", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "╪ж╪з╪▒█М█О┘Ж ┌Х█Ж╪и┘Ж", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "┘И█О╪│┘Д█М ╪│┘Ж╪з█М╪п█Х╪▒", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "┘Б┌Х╪з┘Ж┌й ┌Х█М╪и█О╪▒█М", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┘Е╪з┌Х┌й█Ж ┌Х█М█Ж╪│", hint: "╪ж█Х┌╡┘Е╪з┘Ж█М╪з" },
      { name: "╪к█М╪з┌п█Ж ╪│█М┘Д┌д╪з", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "╪ж█О┘Ж ┌п█Ж┌╡█Ж ┌й╪з┘Ж╪к█О", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┘╛█Ж┌╡ ┘╛█Ж┌п╪и╪з", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┘Д┘И┌й╪з ┌й┘И┌й┘И", hint: "╪и█Х┘Д╪м█М┌й╪з" }, { name: "╪ж█Х┘Ж╪м█О┘Д ╪п█М ┘Е╪з╪▒█М╪з", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" },
      { name: "╪ж█Х┘Д█М╪о╪з┘Ж╪п╪▒█Ж ┌п╪з╪▒┘Ж╪з┌Ж█Ж", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" }, { name: "╪о┘И┘Д█М┘Ж ╪ж█Х┘Д┌д╪з╪▒█О╪▓", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" }, { name: "╪ж█М┘Ж╪▓█Ж ┘Б█О╪▒┘Ж╪з┘Ж╪п█О╪▓", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" }, { name: "╪ж█Х┘Д█О┌й╪│█М╪│ ┘Е╪з┌й ╪ж█Х┘Д█М╪│╪к█Х╪▒", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" }, { name: "╪ж█М┘Е█М┘Д█М╪з┘Ж█Ж ┘Е╪з╪▒╪к█М┘Ж█О╪▓", hint: "╪ж█Х╪▒╪м█Х┘Ж╪к█М┘Ж" },
      { name: "┘Ж╪з╪│╪з┘Ж ╪ж╪з┌й█О", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "┘Б█М┘Д ┘Б█Ж╪п█О┘Ж", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪м╪з┌й ┌п╪▒█О┘Д█М╪┤", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪п█О┌й┘Д╪з┘Ж ┌Х╪з█М╪│", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "┘Е╪з╪▒╪к┘Ж ╪ж█Ж╪п█М┌п╪з╪▒╪п", hint: "┘Ж█Х╪▒┘И█М╪м" },
      { name: "┘И█М┘Д█М╪з┘Е ╪│╪з┘Д█М╪и╪з", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "┌п╪з╪и╪▒█О┘Д ╪о█М╪│┘И╪│", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┘В╪з╪и╪▒█О┘Д ┘Е╪з╪▒╪к█М┘Ж█О┘Д█М", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┘Е╪н┘Е╪п ┘В┘И╪п┘И╪│", hint: "╪║╪з┘Ж╪з" }, { name: "╪п╪з╪▒┘И█М┘Ж ┘Ж┘И┘Ж█О╪▓", hint: "╪ж█Ж╪▒█Ж┌п┘И╪з█М" },
      { name: "┘Д┘И█М╪│ ╪п█М╪з╪▓", hint: "┌й█Ж┌╡█Ж┘Е╪и█М╪з" }, { name: "╪п█Ж┘Е█М┘Ж█М┌й ╪│█Ж╪и█Ж╪│┘Д╪з█М", hint: "┘З█Х┘Ж┌п╪з╪▒█М╪з" }, { name: "┘Е╪н█Х┘Е█Х╪п ╪│█Х┌╡╪з╪н", hint: "┘Е█М╪│╪▒" }, { name: "┘Б█М╪▒╪м█М┘Д ┌д╪з┘Ж ╪п╪з█М┌й", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "╪ж█Х┘Д█М╪│█Ж┘Ж", hint: "╪и█Х┌Х╪з╪▓█М┘Д" },
      { name: "╪к╪▒█О┘Ж╪к ╪ж╪з╪▒┘Ж█Ж┌╡╪п", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪ж█Х┘Ж╪п█М ┌Х█Ж╪и█Х╪▒╪к╪│█Ж┘Ж", hint: "╪│┌й█Ж╪к┘Д█Х┘Ж╪п╪з" }, { name: "╪│╪з╪п█Ж ┘Е╪з┘Ж█О", hint: "╪│█Х┘Ж█М┌п╪з┘Д" }, { name: "┌Х█Ж╪и█Х╪▒╪к█Ж ┘Б█О╪▒┘Е█М┘Ж█М█Ж", hint: "╪и█Х┌Х╪з╪▓█М┘Д" }, { name: "┘Б╪з╪и█М┘Ж█М█Ж", hint: "╪и█Х┌Х╪з╪▓█М┘Д" },
      { name: "╪м█Ж╪▒╪п┘Ж ┘З█О┘Ж╪п█О╪▒╪│█Ж┘Ж", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪м█Х█М┘Е╪│ ┘Е█М┘Д┘Ж█Х╪▒", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "┘Ж╪з╪и█М ┌й█Х█М╪к╪з", hint: "╪║█М┘Ж█М╪з" }, { name: "╪к█М╪з┌п█Ж ╪ж█Х┘Д┌й╪з┘Ж╪к╪з╪▒╪з", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪п█М█Ж┌п█Ж ╪м█Ж╪к╪з", hint: "┘╛┘И╪▒╪к┘И┌п╪з┘Д" },
      { name: "┌й█Ж╪п█М ┌п╪з┌й┘╛█Ж", hint: "┘З█Ж┌╡█Х┘Ж╪п╪з" }, { name: "┘З╪з╪▒┌д█М ╪ж█О┘Д█М█Ж╪к", hint: "╪ж█М┘Ж┌п┘Д╪к█Х╪▒╪з" }, { name: "╪│╪к█О┘Б╪з┘Ж ╪и╪з█М┌Ж█О╪к█М┌Ж", hint: "╪ж█М╪│┘╛╪з┘Ж█М╪з" }, { name: "╪ж█М╪и╪▒╪з┘З█М┘Е╪з ┌й█Ж┘Ж╪з╪к█О", hint: "┘Б█Х┌Х█Х┘Ж╪│╪з" }, { name: "╪о█Ж╪│█О ┘Е╪з╪▒█М╪з ╪о█М┘Е█О┘Ж█О╪▓", hint: "╪ж█Ж╪▒█Ж┌п┘И╪з█М" },
      { name: "█М╪з╪│█М┘Ж ╪и█Ж┘Ж█Ж", hint: "┘Е█Х╪║╪▒█М╪и" }, { name: "█М┘И╪│┘Б ┘Ж█Х╪│█М╪▒", hint: "┘Е█Х╪║╪▒█М╪и" }, { name: "╪│█Ж┘Б█М╪з┘Ж ╪ж█Х┘Е╪▒╪з╪и█Х╪к", hint: "┘Е█Х╪║╪▒█М╪и" }, { name: "╪н█Х┌й█М┘Е ╪▓█М╪з╪┤", hint: "┘Е█Х╪║╪▒█М╪и" }, { name: "┘Ж█Х╪│█М╪▒ ┘Е█Х╪▓╪▒╪з┘И█М", hint: "┘Е█Х╪║╪▒█М╪и" },
      { name: "┘Б┌Х╪з┘Ж┌й ┌й█О╪│█М", hint: "┌й█Ж╪к╪п█М┌д┘И╪з╪▒" }, { name: "╪ж█М╪│┘Е╪з╪╣█М┘Д ╪и┘Ж ┘Ж╪з╪│╪▒", hint: "╪м█Х╪▓╪з╪ж█М╪▒" }, { name: "┌Х█М╪з╪▓ ┘Е█Х╪н╪▒█Х╪▓", hint: "╪м█Х╪▓╪з╪ж█М╪▒" }, { name: "╪ж█М╪│┘Д╪з┘Е ╪│┘Д█О┘Е╪з┘Ж█М", hint: "╪м█Х╪▓╪з╪ж█М╪▒" }, { name: "┘Е█М┌Х╪з┘Д█О┘Е ┘╛█М╪з┘Ж█М┌Ж", hint: "╪и█Ж╪│┘Ж█М╪з" }
    ]
  },
  "cars": {
    name: "╪│█Х█М╪з╪▒█Х",
    items: [
      "BMW", "Mercedes-Benz", "Toyota", "Ferrari", "Ford", "Audi", "Tesla", "Honda", "Lamborghini", "Porsche",
      "Bugatti", "Nissan", "Chevrolet", "Dodge", "Jeep", "Kia", "Hyundai", "Mazda", "Lexus", "Range Rover",
      "Land Cruiser", "Hilux", "Camry", "Corolla", "Avalon", "Yaris", "Prado", "Santa Fe", "Tucson", "Elantra",
      "Sonata", "Accent", "Sportage", "Sorento", "Optima", "Cerato", "Picanto", "Rio", "Mohave", "Malibu",
      "Camaro", "Corvette", "Tahoe", "Suburban", "Silverado", "Impala", "Cruze", "Opel", "Charger", "Challenger",
      "Durango", "Ram", "Shelby", "Mustang", "Expedition", "Raptor", "Golf", "Passat", "Tiguan", "Touareg",
      "Beetle", "Fiat", "Alfa Romeo", "Maserati", "Bentley", "Rolls-Royce", "Aston Martin", "McLaren", "Lotus",
      "Jaguar", "Mini Cooper", "Volvo", "Saab", "Skoda", "Seat", "Peugeot", "Renault", "Citroen", "Bugatti Chiron",
      "Koenigsegg", "Pagani", "Hummer", "Cadillac", "Lincoln", "GMC", "Acadia", "Yukon", "Infiniti", "Acura",
      "Subaru", "Mitsubishi", "Pajero", "Lancer", "Pickup Truck", "Taxi", "Bus"
    ]
  },
  "animals": {
    name: "╪ж╪з┌Ш█Х┌╡",
    items: [
      "╪┤█О╪▒", "┘╛╪┤█М┘Д█Х", "╪│█Х┌п", "┘Е╪з╪▒", "╪ж█Х╪│┘╛", "┌п┘И╪▒┌п", "┘Е█Х█М┘Е┘И┘Ж", "┘Б█М┘Д", "┌й█Х╪▒┘И█О╪┤┌й", "┘З█Х┌╡█Ж",
      "╪и█Х┘И╪▒", "┘Е╪з╪│█М", "┘Е╪з┘Ж┌п╪з", "┘Е█Х┌Х", "╪и╪▓┘Ж", "┌й█Х╪▒", "╪к┘И╪к█М", "┌й█Ж╪к╪▒", "┘Е╪▒█М╪┤┌й", "┌й█Х┌╡█Х╪┤█О╪▒",
      "┘В█Х┘Д", "┘Ж█Х╪╣╪з┘Е█Х", "╪н┘И╪┤╪к╪▒", "╪▓█Х┌Х╪з┘Б█Х", "┌й█Х╪▒ ┌й█О┘И█М", "┌Х█О┘И█М", "┌Ж█Х┘В█Х┌╡", "┌й█Х┘Е╪к█М╪з╪▒", "╪п█Ж┌╡┘Б█М┘Ж", "┘Ж█Х┘З█Х┘Ж┌п",
      "┘В╪▒┌Ш╪з┌╡", "╪и╪з┌╡┘Ж╪п█Х", "┘╛█Х┘╛┘И┘Д█Х", "┘Е█О╪┤", "┘Е█О╪┤┘И┘И┘Д█Х", "╪│█М╪│╪▒┌й", "╪м╪з┌╡╪м╪з┌╡█Ж┌й█Х", "┘Е╪з╪▒┘Е█О┘Д┌й█Х", "╪к█Х█М┘Е╪з┘Ж█Х", "┌й█М╪│█Х┌╡",
      "╪и█Ж┘В", "╪│┘Е█Ж╪▒█Х", "┌Ш█М╪┤┌й", "╪и█Х╪▒╪з╪▓", "┘И╪▒┌Ж", "┘╛╪з┘Ж╪п█Х", "┌й█Х┘Ж┌п█Х╪▒┘И", "┌й┘И╪з┘Д╪з", "╪┤█Х┘Е╪┤█Х┘Е█Х┌й┘И█О╪▒█Х", "╪п╪з┌╡",
      "┘В╪з╪▓", "┘Е╪▒╪з┘И█М", "┘В┘И", "┘╛█Х┌Х█Х╪│█О┘Д┌й█Х", "╪к┘И┌й█Х", "┌й┘И┘Ж╪п█Х┘╛█Х┘╛┘И┘И", "┘╛█Х┘Ж┌п┘И█М┘Ж", "┘Б█Ж┌й", "┘Ж█Х┘З█Х┘Ж┌п█М ╪┤█М┘Ж",
      "╪ж█Х╪о╪к█Х╪и┘И╪к", "┘Ж╪з┘И█О╪▒█Х", "┌п┘И█О┌Ж┌й█Х ┘Е╪з╪│█М", "╪ж█Х╪│┘╛█Ж┘Ж", "┘Е╪з╪│█М ╪│┘И╪▒", "╪│█Х┘Д█Х┘Е┘И┘Ж", "╪к┘И┘Ж╪з", "╪│█Х╪▒╪п█М┘Ж", "┘В█Ж┌Х╪о", "╪и╪з╪▓",
      "╪┤╪з┘З█О┘Ж", "┘╛█Ж┌Х", "┌й█Х┘И", "╪│┘И█О╪│┌й█Х", "╪н█Х┘И╪к╪│█Х╪▒", "╪и╪▓┘Ж█М ┌й█О┘И█М", "╪о█Х╪▓╪з┘Д", "┘Е╪з┘Е╪▓", "╪и█Х╪▒╪з╪▓█М ┌й█О┘И█М", "╪ж╪з┌Ш█Х┌╡█М ╪ж╪з┘И█М",
      "┘Е╪┤┌й", "╪м╪▒╪м", "┘З█Х┘Е╪│╪к█Х╪▒", "╪о┘И█О┘Е┌Ш", "┌й╪▒┘Е", "┘З█Х┘Ж┌п", "╪▓█М┌Х█Х", "┘В█Ж┌Х", "┌й╪▒┘Е╪з ╪п█Х╪▒█М╪з█М█М", "╪ж█Х╪│┘╛█О",
      "╪│█Х┌п█М ╪ж╪з┘И█М", "┘Е█Х█М┘Е┘И┘Ж█М ╪и┌Ж┘И┌й", "┌п█Ж╪▒█О┘Д╪з", "╪┤┘Е┘╛╪з┘Ж╪▓█М", "╪ж█Ж╪▒╪з┘Ж┌п┘И╪к╪з┘Ж", "┘Е█О╪▒┘И┘Д█Х", "┌й┘И┘Д┘Д█Х", "╪к█Х╪▒╪▓█Х", "┘В╪з┌╡█Ж┘Ж┌Ж█Х", "┘╛╪┤█М┘Д█Х█М ┌й█О┘И█М"
    ]
  },
  "cities": {
    name: "╪┤╪з╪▒█Х┌й╪з┘Ж",
    items: [
      "╪│┘Д█О┘Е╪з┘Ж█М", "┘З█Х┘И┘Д█О╪▒", "╪п┘З█Ж┌й", "┌й█Х╪▒┌й┘И┌й", "┘З█Х┌╡█Х╪и╪м█Х", "╪▓╪з╪о█Ж", "┌Х╪з┘Ж█М█Х", "┌й█Х┘Д╪з╪▒", "┌Ж█Х┘Е┌Ж█Х┘Е╪з┌╡", "╪│█Ж╪▒╪з┘Ж",
      "┌й█Ж█М█Х", "┘╛█О┘Ж╪м┘И█О┘Ж", "╪│█Х█М╪п╪│╪з╪п┘В", "╪п█Х╪▒╪и█Х┘Ж╪п█М╪о╪з┘Ж", "┘В█Х┌╡╪з╪п╪▓█О", "╪ж╪з┌й╪▒█О", "╪┤█Х┘В┌╡╪з┘И█Х", "╪о█Х┘Д█М┘Б╪з┘Ж", "┌Ж█Ж┘Е╪з┘Ж", "┌Х█Х┘И╪з┘Ж╪п╪▓",
      "┘З█М╪▒╪з┘Ж", "╪┤█О╪о╪з┘Ж", "╪и█Х╪▒╪п█Х┌Х█Х╪┤", "╪ж╪з┘Е█О╪п█М", "╪┤█О┘Д╪з╪п╪▓█О", "╪│█О┘Е█О┘Д", "╪о╪з┘Ж█Х┘В█М┘Ж", "┘Е█Х┘Ж╪п█Х┘Д█М", "╪к┘И╪▓╪о┘И╪▒┘Е╪з╪к┘И┘И", "┌й┘Б╪▒█М",
      "╪н╪з╪м█М ╪ж█Ж┘Е█Х╪▒╪з┘Ж", "┘Е╪з┘И█Х╪к", "┌Ж┘И╪з╪▒╪к╪з", "╪п┘И┌й╪з┘Ж", "┘╛█М╪▒█Х┘Е█Х┌п╪▒┘И┘Ж", "╪и╪з╪▓█М╪з┘Ж", "╪к█Х┌й█М█Х", "╪┤█Ж┌Х╪┤", "╪и╪з┘Д█М╪│╪з┘Ж", "╪о█Х┘Д█Х┌й╪з┘Ж",
      "┘В█Х╪▒█Х╪п╪з╪║", "╪╣█Х╪▒╪и█Х╪к", "╪о┘И╪▒┘Е╪з┌╡", "╪и█М╪з╪▒█Х", "╪к█Х┘И█О┌╡█Х", "╪│█М╪▒┘И╪з┘Ж", "╪и█Х╪▒╪▓┘Ж╪м█Х", "╪┤╪з╪▒█Х╪▓┘И┘И╪▒", "╪п█Х╪┤╪к█М ┘З█Х┘И┘Д█О╪▒", "┌й█Х╪│┘Ж█Х╪▓╪з┘Ж",
      "╪и┘Ж█Х╪│┌╡╪з┘И█Х", "╪п╪з╪▒█Х╪к┘И┘И", "╪и█Х╪н╪▒┌й█Х", "┘Е█Х╪│█М┘Б", "┘З█Х╪▒█М╪▒", "╪о█Х╪и╪з╪к", "╪╣█Х┘Ж┌й╪з┘И█Х", "┘В┘И╪┤╪к█Х┘╛█Х", "┘Е╪о┘Е┘И╪▒", "┌п┘И█О┌Х",
      "╪┤┘Ж┌п╪з┘Д", "╪к█Х┘Д╪╣█Х┘Б█Х╪▒", "╪н█Х┘И█М╪м█Х", "╪п╪з┘В┘И┘В", "┘Д█М┘Д╪з┘Ж", "█М╪з█М┌Ж█М", "╪и█Х╪▒█М╪▓╪з┘Ж", "╪ж╪з╪║╪м█Х┘Д█Х╪▒", "╪│█Х┘Ж┌п╪з┘И", "╪и╪з┘И█Х┘Ж┘И╪▒",
      "┌Х╪▓┌п╪з╪▒█М", "╪│┘Е┘И╪п", "╪┤█О╪о ╪и╪з┘И█Х", "╪м█Х┘Д█Х┘И┘Д╪з", "╪│█Х╪╣╪п█М█М█Х", "┘В█Х╪▒█Х╪к█Х┘╛█Х", "╪м█Х╪и╪з╪▒█Х", "┌й█Ж┌й╪│", "╪и╪з╪к╪з█М█Х", "╪│█Х╪▒╪│█Х┘Ж┌п",
      "╪п█О╪▒█Х┘Д┘И┌й", "┘В█Х╪п╪┤", "╪и╪з┘Е╪▒┘Ж█М", "┌й╪з┘Ж█М ┘Е╪з╪│█О", "╪и█О┌п█Ж┌д╪з", "╪п█Х╪▒┌й╪з╪▒", "╪и╪з╪к█О┘Б╪з", "╪п█Ж┘Е█М╪│", "┘Б╪з█М╪п█М", "┌й█Х┘Д█Х┌й"
    ]
  },
  "food": {
    name: "╪о┘И╪з╪▒╪п┘Ж",
    items: [
      "█М╪з┘╛╪▒╪з╪о", "┌й█Х╪и╪з╪и", "╪и╪▒┘Ж╪м", "┌й┘И╪и█Х", "┘Е█Х╪│╪к╪з┘И", "┘Б╪з╪│█Ж┘Д█М╪з", "┘Ж█М╪│┌й", "╪к█Х╪┤╪▒█М╪и", "╪п█Ж┌╡┘Е█Х", "╪│█Х╪▒┘╛█О",
      "┘В█Х┘Д█М╪з┘И█Х", "┌й┘И╪к┌╡┌й", "╪┤┘Б╪к█Х", "╪┤┘Д█Х", "╪и╪з┘Е█М█Х", "╪┤┌╡█Х┘Е█М┘Ж", "╪п╪з┘Ж┘И┘Д█Х", "┌й█Х╪┤┌й█Х", "╪п█Ж█М┘Ж█Х", "╪к█Ж╪▒╪з╪о",
      "┌й┘Ж┌п╪▒", "┌й╪з╪▒┌п", "┌Х█О┘И╪з╪│", "╪┤█Ж╪▒╪и╪з", "┘Е╪▒█М╪┤┌й█М ╪и╪▒┌Ш╪з┘И", "┘Е╪з╪│█М ┘Е█Х╪│┌п┘И┘Б", "┘В╪з╪▓ ┘И ┘В┘И╪▒█М┘Ж┌п", "╪и╪з┌╡█Х┘Б┌Х█Х (╪и╪з┌╡█М ┘Е╪▒█М╪┤┌й)", "╪м┌п█Х╪▒", "╪п┌╡ ┘И ┘В┘И╪▒┌п",
      "╪│█Х╪▒┘И┘╛█О", "┘╛╪з┘В┘Д█Х", "╪┤█О┘Д┘Е", "┘Ж█Ж┌й╪з┘И", "╪│╪з┘И█Х╪▒", "┘Е█Х┘В┘Д┘И╪и█Х", "╪и╪▒█М╪з┘Ж█М", "┘В█Ж╪▓█М", "╪о█Ж┘И╪▒╪┤",
      "╪┤╪з┘И╪▒┘Е█Х", "┘Б█Х┘Д╪з┘Б┘Д", "┘╛█М╪к╪▓╪з", "╪и█Х╪▒┌п█Х╪▒", "┌й█О┘Ж╪к╪з┌й█М", "╪│╪з┘Ж╪п┘И█М┌Ж", "┘Е█Х╪╣┌й█Х╪▒█Ж┘Ж█М", "╪│┘╛╪з┌п█О╪к█М", "┘Д╪з╪▓╪з┘Ж█М╪з", "╪│╪к█О┌й",
      "╪│█Ж╪│╪м", "┘╛█Х┘Ж█М╪▒█М ┌й┘И╪▒╪п█М", "┘Е╪з╪│╪к", "┌й█Х╪▒█Х", "┌Х█Ж┘Ж█М ┌й┘И╪▒╪п█М", "┘З█Х┘Ж┌п┘И█М┘Ж", "╪п█Ж╪┤╪з┘И", "┌Х╪з╪┤█М", "╪к█Х╪н█М┘Ж", "┘Ж╪з┘Ж█М ╪к█М╪▒█М",
      "┘Ж╪з┘Ж█М ┘З█Х┘И╪▒╪з┘Е█М", "┌й┘И┘Д█О╪▒█Х", "┘Ж╪з┘И╪│╪з╪м█М", "┌й█Х┘Д█Х┘И█О", "╪и╪▒┘Ж╪м ┘И ╪┤┘Д█Х", "┘Б╪з╪│█Ж┘Д█М╪з█М ┘И╪┤┌й", "┘╛█Х╪к╪з╪к█Х█М ╪│┘И╪▒█Х┘И┌й╪▒╪з┘И", "╪▓█Х┌╡╪з╪к█Х", "╪к╪▒╪┤█М╪з╪к", "┘Е╪з╪│╪к ┘И ╪о█Х█М╪з╪▒",
      "╪м╪з╪м█М┌й", "┘З█О┘Д┌й█Х ┘И ┌Х█Ж┘Ж", "┘З█О┘Д┌й█Х ┌й┘И┌╡╪з┘И", "┘В█Х█М┘Е╪з╪║", "┌п█Х╪▓┘Ж█Х", "╪╣█Х╪п█Х╪│", "┘Д█Ж╪и█М╪з", "╪и█М╪и█Х╪▒█М ╪к┘И┘Ж", "╪о█Х█М╪з╪▒", "╪к█Х┘Е╪з╪к█Х",
      "╪и╪з█М┘Ж╪м╪з┘Ж", "┌й┘И┘Д█Х┌й█Х", "┌п█Х┘Е█Х", "┘В█Х█М╪│█М", "┘З█Х┘Ж╪м█М╪▒", "┘З█Х┘Ж╪з╪▒", "╪к╪▒█М", "┌й╪з┌╡█Х┌й", "╪┤┘И╪к█М", "┌Ж╪з",
      "┘В╪з┘И█Х", "╪┤█Х╪▒╪и█Х╪к", "╪ж╪з┘И█М ┘З█Х┘Ж╪з╪▒", "┘Е█Ж╪▓", "╪│█О┘И", "┘╛╪▒╪к█Х┘В╪з┌╡", "┘Д╪з┘Д█Х┘Ж┌п█М", "┌й█Х┘Д█Х╪▒┘Е", "┘В█Х╪▒┘Ж╪з╪и█М╪к", "╪│┘╛█О┘Ж╪з╪о"
    ]
  },
  "wwe": {
    name: "┘Е┘И╪│╪з╪▒█Х╪╣█Х",
    items: [
      "John Cena", "The Rock", "Roman Reigns", "Undertaker", "Stone Cold Steve Austin",
      "Triple H", "Randy Orton", "Brock Lesnar", "Cody Rhodes", "Seth Rollins",
      "CM Punk", "Rey Mysterio", "Hulk Hogan", "Shawn Michaels", "Edge",
      "Batista", "Kane", "Big Show", "Chris Jericho", "Kurt Angle",
      "Ric Flair", "Bret Hart", "Macho Man Randy Savage", "Andre the Giant",
      "Ultimate Warrior", "Goldberg", "Sting", "AJ Styles", "Daniel Bryan",
      "Drew McIntyre", "Becky Lynch", "Charlotte Flair", "Ronda Rousey", "Bianca Belair",
      "Rhea Ripley", "Sasha Banks", "Bayley", "Asuka", "Trish Stratus", "Lita",
      "The Miz", "Sheamus", "Jeff Hardy", "Matt Hardy", "Rob Van Dam",
      "Booker T", "Eddie Guerrero", "JBL", "Mick Foley", "Diesel (Kevin Nash)",
      "Logan Paul", "LA Knight", "Finn Balor", "Gunther", "Jey Uso", "Jimmy Uso", "Solo Sikoa",
      "Bray Wyatt", "Braun Strowman", "Bobby Lashley"
    ]
  }
};

// --- State ---
let state = {
  players: [], // Array of role objects: { isImposter: boolean, word: string }
  currentPlayerIndex: 0,
  secretWord: "",
  timerInterval: null,
  seconds: 0
};

// --- Initialization ---
window.onload = function () {
  const select = document.getElementById('category-select');
  for (const [key, value] of Object.entries(categories)) {
    const option = document.createElement('option');
    option.value = key;
    option.textContent = value.name;
    select.appendChild(option);
  }
};

// --- Core Functions ---

function startGame() {
  const playerCount = parseInt(document.getElementById('player-count').value);
  const imposterCount = parseInt(document.getElementById('imposter-count').value);
  const categoryKey = document.getElementById('category-select').value;

  if (playerCount < 3) {
    alert("┌Ш┘Е╪з╪▒█Х█М █М╪з╪▒█М╪▓╪з┘Ж ┘Ж╪з╪и█О╪к ┘Д█Х ┘г ┌й█Х╪│ ┌й█Х┘Е╪к╪▒ ╪и█О╪к!");
    return;
  }

  if (imposterCount >= playerCount) {
    alert("┌Ш┘Е╪з╪▒█Х█М ╪ж█М┘Е┘╛█Ж╪│╪к█Х╪▒ ┘Ж╪з╪и█О╪к ┘Д█Х █М╪з╪▒█М╪▓╪з┘Ж█Х┌й╪з┘Ж ╪▓█М╪з╪к╪▒ ╪и█О╪к!");
    return;
  }

  // Setup Data
  const categoryData = categories[categoryKey];
  const randomItem = categoryData.items[Math.floor(Math.random() * categoryData.items.length)];

  // Handle Object vs String items
  if (typeof randomItem === 'object') {
    state.secretWord = randomItem.name;
    state.secretHint = randomItem.hint;
  } else {
    state.secretWord = randomItem;
    state.secretHint = ""; // No hint for normal categories
  }

  // Build Roles array
  let roles = Array(playerCount).fill(false); // false = innocent
  let assignedImposters = 0;
  while (assignedImposters < imposterCount) {
    let randIndex = Math.floor(Math.random() * playerCount);
    if (!roles[randIndex]) {
      roles[randIndex] = true; // true = imposter
      assignedImposters++;
    }
  }

  // Create Player Objects
  state.players = roles.map(isImp => ({
    isImposter: isImp,
    word: isImp ? "IMPOSTER" : state.secretWord
  }));

  state.currentPlayerIndex = 0;

  // Switch Screen
  switchScreen('game-screen');
  updateGameScreen();
}

function updateGameScreen() {
  const playerNum = state.currentPlayerIndex + 1;
  document.getElementById('player-indicator').textContent = `█М╪з╪▒█М╪▓╪з┘Ж ${playerNum}`;

  // Reset card state
  document.getElementById('card-front').style.display = 'flex';
  document.getElementById('card-back').style.display = 'none';
  document.getElementById('role-content').classList.remove('visible', 'imposter-text', 'player-text');

  // Buttons
  document.getElementById('action-btn').classList.remove('hidden');
  document.getElementById('hide-btn').classList.add('hidden');
}

function revealRole() {
  const cardBack = document.getElementById('card-back');
  const cardFront = document.getElementById('card-front');

  // If already revealed, do nothing
  if (cardBack.style.display === 'flex') return;

  const player = state.players[state.currentPlayerIndex];
  const roleContent = document.getElementById('role-content');

  cardFront.style.display = 'none';
  cardBack.style.display = 'flex';

  // Populate Content
  if (player.isImposter) {
    let imposterHtml = "╪к█Ж ╪ж█М┘Е┘╛█Ж╪│╪к█Х╪▒█М!<br><span style='font-size:1rem'>(╪п╪▒█Ж╪▓┘Ж█Х┌й█Х)</span> ЁЯдл";
    // Show hint if available
    if (state.secretHint) {
      imposterHtml += `<br><br><span style='font-size:0.9rem; color:#ccc;'>┘Д█О╪▓╪з┘Ж█М (Hint):<br>${state.secretHint}</span>`;
    }
    roleContent.innerHTML = imposterHtml;
    roleContent.className = "role-text visible imposter-text";
  } else {
    roleContent.innerHTML = `┘И╪┤█Х┌й█Х:<br><br>${player.word}`;
    roleContent.className = "role-text visible player-text";
  }

  // Swap Buttons
  document.getElementById('action-btn').classList.add('hidden');
  document.getElementById('hide-btn').classList.remove('hidden');
}

function hideRole() {
  state.currentPlayerIndex++;

  if (state.currentPlayerIndex >= state.players.length) {
    endGame();
  } else {
    updateGameScreen();
  }
}

function endGame() {
  switchScreen('result-screen');
  startTimer(true); // Optional auto start, or let them click
}

function resetGame() {
  stopTimer();
  state.seconds = 0;
  document.getElementById('timer').textContent = "00:00";
  switchScreen('setup-screen');
}

// --- Utilities ---

function switchScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

let timerRunning = false;
function toggleTimer() {
  if (timerRunning) stopTimer();
  else startTimer();
}

function startTimer(reset = false) {
  if (reset) {
    state.seconds = 0;
  }
  if (state.timerInterval) clearInterval(state.timerInterval);
  timerRunning = true;

  state.timerInterval = setInterval(() => {
    state.seconds++;
    const mins = Math.floor(state.seconds / 60).toString().padStart(2, '0');
    const secs = (state.seconds % 60).toString().padStart(2, '0');
    document.getElementById('timer').textContent = `${mins}:${secs}`;
  }, 1000);
}

function stopTimer() {
  clearInterval(state.timerInterval);
  timerRunning = false;
}
